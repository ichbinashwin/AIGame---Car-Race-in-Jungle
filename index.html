<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Snack Game</title>
  <style>
    body {
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: linear-gradient(135deg, #2c3e50, #3498db);
      font-family: "Segoe UI", Tahoma, sans-serif;
      color: white;
    }

    h1 {
      margin-bottom: 10px;
      font-size: 2em;
    }

    #gameBoard {
      background: #1e272e;
      border: 3px solid #fff;
      display: grid;
      grid-template-columns: repeat(20, 20px);
      grid-template-rows: repeat(20, 20px);
    }

    .cell {
      width: 20px;
      height: 20px;
    }

    .snake {
      background: #2ecc71;
      border-radius: 4px;
    }

    .food {
      background: #e74c3c;
      border-radius: 50%;
    }

    #controls {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }

    button {
      background: #27ae60;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1em;
      transition: 0.2s;
    }

    button:hover {
      background: #2ecc71;
    }

    #score {
      margin: 10px;
      font-size: 1.2em;
    }

    #gameOver {
      display: none;
      font-size: 1.5em;
      margin-top: 20px;
      color: #ff7675;
    }
  </style>
</head>
<body>
  <h1>üêç Snack Game</h1>
  <div id="score">Score: 0</div>
  <div id="gameBoard"></div>
  <div id="controls">
    <button onclick="startGame()">‚ñ∂ Start</button>
    <button onclick="restartGame()">üîÑ Restart</button>
  </div>
  <div id="gameOver">üíÄ Game Over!</div>

  <script>
    const boardSize = 20;
    const gameBoard = document.getElementById("gameBoard");
    const scoreDisplay = document.getElementById("score");
    const gameOverMsg = document.getElementById("gameOver");
    let snake, food, direction, score, intervalId;

    // Create cells
    const cells = [];
    for (let i = 0; i < boardSize * boardSize; i++) {
      const div = document.createElement("div");
      div.classList.add("cell");
      gameBoard.appendChild(div);
      cells.push(div);
    }

    function startGame() {
      snake = [42, 41]; // start position
      direction = 1; // moving right
      score = 0;
      placeFood();
      updateBoard();
      gameOverMsg.style.display = "none";
      clearInterval(intervalId);
      intervalId = setInterval(move, 150);
    }

    function restartGame() {
      startGame();
    }

    function placeFood() {
      do {
        food = Math.floor(Math.random() * cells.length);
      } while (snake.includes(food));
    }

    function move() {
      const head = snake[0] + direction;

      // Wall collisions
      if (
        (direction === 1 && head % boardSize === 0) || // right wall
        (direction === -1 && snake[0] % boardSize === 0) || // left wall
        (direction === boardSize && head >= boardSize * boardSize) || // bottom
        (direction === -boardSize && head < 0) // top
      ) {
        return endGame();
      }

      // Self collision
      if (snake.includes(head)) return endGame();

      snake.unshift(head);

      if (head === food) {
        score++;
        scoreDisplay.textContent = "Score: " + score;
        placeFood();
      } else {
        snake.pop();
      }

      updateBoard();
    }

    function updateBoard() {
      cells.forEach(c => c.className = "cell"); // clear
      snake.forEach(i => cells[i].classList.add("snake"));
      cells[food].classList.add("food");
    }

    function endGame() {
      clearInterval(intervalId);
      gameOverMsg.style.display = "block";
    }

    // Controls
    document.addEventListener("keydown", e => {
      if (e.code === "ArrowUp" && direction !== boardSize) direction = -boardSize;
      else if (e.code === "ArrowDown" && direction !== -boardSize) direction = boardSize;
      else if (e.code === "ArrowLeft" && direction !== 1) direction = -1;
      else if (e.code === "ArrowRight" && direction !== -1) direction = 1;
    });
  </script>
</body>
</html>